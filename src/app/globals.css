/* src/app/globals.css */

@import "tailwindcss";

/* ---------------------------------------------------- */
/* CSS 변수 정의 (Next-themes가 <html> 클래스를 토글하여 변수를 변경함) */
/* ---------------------------------------------------- */
:root {
  /* 라이트 모드 (기본값) */
  --background: #ffffff;         /* 배경색: 순백색 */
  --foreground: #171717;         /* 본문 텍스트: 거의 검은색 */
  
  --accent-color: #4f46e5;       /* 강조색: 인디고 (Links, Headers) */
  --accent-hover: #4338ca;       /* 강조색 호버 */
  
  --text-main: #171717;          /* 주요 텍스트 */
  --text-sub: #525252;           /* 보조 텍스트 (날짜, 설명) */
  
  --header-bg: #ffffff;          /* 헤더 배경 */
  --header-link: #171717;        /* 헤더 링크 색상 */
  
  --comp-bg: #f9f9f9;            /* 컴포넌트 배경 (카드, 검색창 등) */
  --comp-border: #e5e7eb;        /* 컴포넌트 경계선 */

  --blue-600: #2563eb;    /* devops */
  --yellow-600: #eab308;  /* til */
  --green-600: #16a34a;   /* javascript */
  --teal-600: #0d9488;    /* java */
  --cyan-600: #06b6d4;    /* backend */
  --emerald-600: #059669; /* ssg */
  --lime-600: #65a30d;    /* async */
  --pink-600: #db2777;    /* frontend */
  --purple-600: #9333ea;  /* nextjs */
  --violet-600: #7c3aed;  /* githubactions */
  --fuchsia-600: #c026d3; /* docker */
  --orange-600: #f97316;  /* pwa */
  --amber-600: #f59e0b;   /* optimizing */
  --indigo-600: #4f46e5;  /* java-spring */
  --red-600: #dc2626;     /* cpp-windows-control */
  --gray-600: #4b5563;    /* gray (backend-db, db) */

  --code-bg: #e9eaeb;        /* 라이트 모드 */
  --code-text: #24292f;

  --color-alert-info-bg: #f0f8ff;
  --color-alert-info-text: #1f3b64;
}

html.dark {
  /* 다크 모드 전환: html.dark 클래스가 붙을 때 변수 재정의 */
  --background: #0a0a0a;         /* 배경색: 아주 어두운 검은색 */
  --foreground: #e5e7eb;         /* 본문 텍스트: 밝은 회색 */

  --accent-color: #818cf8;       /* 강조색: 밝은 인디고 */
  --accent-hover: #6366f1;       /* 강조색 호버 */

  --text-main: #f3f4f6;          /* 주요 텍스트 */
  --text-sub: #a1a1aa;           /* 보조 텍스트 (날짜, 설명) */

  --header-bg: #0a0a0a;          /* 헤더 배경 */
  --header-link: #e5e7eb;        /* 헤더 링크 색상 */
  
  --comp-bg: #1f2937;            /* 컴포넌트 배경 (어두운 회색) */
  --comp-border: #374151;        /* 컴포넌트 경계선 */

  /* 다크 모드에서는 대비를 위해 보통 400 또는 300 쉐이드를 사용합니다. */
  --blue-600: #60a5fa;    /* blue-400 */
  --yellow-600: #facc15;  /* yellow-400 */
  --green-600: #4ade80;   /* green-400 */
  --teal-600: #2dd4bf;    /* teal-400 */
  --cyan-600: #22d3ee;    /* cyan-400 */
  --emerald-600: #34d399; /* emerald-400 */
  --lime-600: #a3e635;    /* lime-300 */
  --pink-600: #f472b6;    /* pink-400 */
  --purple-600: #c084fc;  /* purple-400 */
  --violet-600: #a78bfa;  /* violet-400 */
  --fuchsia-600: #e879f9; /* fuchsia-400 */
  --orange-600: #fb923c;  /* orange-400 */
  --amber-600: #fbbf24;   /* amber-400 */
  --indigo-600: #818cf8;  /* indigo-400 */
  --red-600: #f87171;     /* red-400 */
  --gray-600: #9ca3af;    /* gray-400 */

  --code-bg: #1b1e22;        /* 다크 모드 */
  --code-text: #c9d1d9;

  blockquote {
    /* 배경색을 어둡고 명확하게 설정 */
    background-color: #3a414a !important; /* TailwindCSS Gray-800 계열 */
    
    /* 글자색을 밝게 설정하여 대비 확보 */
    color: #e5e7eb !important; /* TailwindCSS Gray-200 계열 */
    
    /* (선택 사항) 좌측 테두리 색상도 조정 */
    border-left-color: #b0b1b4 !important; /* 파란색 계열 */
    
    /* 인용구 내부의 링크(a 태그) 색상도 조정하여 대비 확보 */
    blockquote a {
      color: #93c5fd !important; /* 밝은 파란색 계열 */
    }
  }
}

html, body {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  font-family: var(--font-noto), var(--font-inter),
               system-ui, -apple-system, Segoe UI, Roboto,
               "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic",
               "Helvetica Neue", Arial, sans-serif;
  overflow-x: hidden;
}

/* 충돌 방지를 위해 body에 !important를 사용하여 CSS 변수가 항상 적용되도록 합니다. */
body {
  background: var(--background) !important; 
  color: var(--foreground) !important; 

  /* 부드러운 스크롤 */
  scroll-behavior: smooth;
  /* 모드 전환 애니메이션 */
  transition: background-color 0.3s ease, color 0.3s ease;
  
  overscroll-behavior-y: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Link Hover Effect (컴포넌트 내에서 적용되므로 전역은 최소화) */
a {
    transition: color 0.2s ease;
}

@layer components {
  .prose :where(table):not(:where(.not-prose *)) {
    width: 100%;
    border-collapse: collapse;                 /* 셀 사이 간격 제거 */
    border: 1px solid rgb(228 228 231);        /* zinc-200 */
    border-radius: 0.375rem;                   /* 살짝 둥글게 (선택) */
    overflow: hidden;                          /* 둥근 모서리 유지 */
  }

  .prose :where(th, td):not(:where(.not-prose *)) {
    border: 1px solid rgb(228 228 231);        /* 셀 보더 */
    padding: 0.6rem 0.8rem;                    /* 가독성 패딩 */
  }

  .prose :where(thead th):not(:where(.not-prose *)) {
    background-color: rgb(244 244 245);        /* zinc-100 */
    font-weight: 600;
  }

  /* 다크 모드 색상 */
  .dark .prose :where(table):not(:where(.not-prose *)) {
    border-color: rgb(63 63 70);               /* zinc-700 */
  }
  .dark .prose :where(th, td):not(:where(.not-prose *)) {
    border-color: rgb(63 63 70);
  }
  .dark .prose :where(thead th):not(:where(.not-prose *)) {
    background-color: rgb(39 39 42);           /* zinc-900 근처 */
  }
}
